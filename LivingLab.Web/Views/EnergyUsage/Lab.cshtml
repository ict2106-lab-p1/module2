@{
    ViewData["Title"] = "View Energy Usage";
}

@section Styles
{
    <link rel="stylesheet" href="~/lib/jquery-ui-1.13.1/jquery-ui.min.css"/>
}

<h2 class="font-bold text-3xl text-slate-900">Lab <span id="labLocation"></span> Energy Usage</h2>

<div class="w-full h-1/2 mt-6">
    <input type="hidden" id="labId" value="@ViewBag.LabId"/>
    <div class="flex justify-between mb-5">
        <div class="flex items-end">
            <input type="text" id="start" class="input input-bordered" placeholder="Start date"/>
            <input type="text" id="end" class="input input-bordered ml-4" placeholder="End date"/>
            <input type="button" id="filter" class="bg-slate-900 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded trigger-swal ml-4" value="Filter"/>
            <input type="button" id="resetFilter" class="bg-slate-900 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded trigger-swal ml-4" value="Reset"/>
        </div>
        <div class="card w-72 bg-neutral text-neutral-content">
            <div class="card-body items-center text-center">
                <h2 class="card-title">Median Energy Usage</h2>
                <p><span id="median">0</span> Joules</p>
            </div>
        </div>
    </div>
    <canvas id="lineChart"></canvas>
    <div class="flex flex-col text-center mt-5">
        <span class="text-xs font-bold text-gray-600">Scroll to zoom in/out. Drag to pan.</span>
    </div>
    <div class="flex space-x-2">
        <a class="mt-5 bg-slate-900 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded trigger-swal" 
                                               asp-action="Index">Back</a>
            <button id="resetZoom" class="mt-5 bg-slate-900 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded trigger-swal">Reset Zoom</button>
    </div>
</div>


@section Scripts
{ 
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/1.2.1/chartjs-plugin-zoom.min.js" integrity="sha512-klQv6lz2YR+MecyFYMFRuU2eAl8IPRo6zHnsc9n142TJuJHS8CG0ix4Oq9na9ceeg1u5EkBfZsFcV3U7J51iew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="~/lib/jquery-ui-1.13.1/jquery-ui.min.js"></script>
    <script src="~/js/viewLabEnergyUsage.js"></script>
}